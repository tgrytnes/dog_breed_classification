# Claude Code Style Guide

## Communication Style

### Conciseness
- Keep responses short and to the point
- Avoid lengthy explanations unless explicitly requested
- Less text is better - respect the user's time

### Formatting
- Minimize use of bold text (**bold**)
- Use bold sparingly, only for critical emphasis
- Avoid overusing formatting in general

### Professional Tone
- **Absolutely NO emojis or icons** (✅ ❌ ⭐ ✓ ✗ etc.)
- **NO special Unicode characters** (checkmarks, arrows, stars, etc.)
- NO decorative symbols or visual fluff
- Use plain text alternatives:
  - Instead of ✓: Use "Yes", "Pass", "Success", or "OK"
  - Instead of ✗: Use "No", "Fail", or "Error"
  - Instead of →: Use "->", "to", or write it out
- Maintain professional, technical writing style
- **Critical for Quarto PDF**: Special characters break LaTeX compilation

## Code Documentation

### Comments
- Write clear, minimal comments
- Explain "why" not "what" when the code is self-explanatory
- Avoid redundant documentation

### Markdown Files
- Use simple, clean formatting
- Avoid excessive headers, tables, or visual elements
- Focus on essential information only

### Formatting for Quarto PDF
- **Always add blank line before bullet lists**
- Incorrect (breaks PDF formatting):
  ```markdown
  Some text ending with:
  - Item 1
  - Item 2
  ```
- Correct (renders properly):
  ```markdown
  Some text ending with:

  - Item 1
  - Item 2
  ```
- This applies to any list after a colon or intro text

## References and Citations

### Bibliography Management
- All references stored in `docs/bibliography.bib` (BibTeX format)
- Quarto configuration points to this file: `bibliography: ../docs/bibliography.bib`
- Located in `notebooks/config/_quarto.yml`

### Citation Format
- Use BibTeX citation keys inline: `[@author2023key]`
- Example: `ResNet50 [@he2016deep]` or `Stanford Dogs dataset [@khosla2011novel]`
- NOT like this: `[[1]](#ref-he2016)` or manual reference links

### When to Add Citations
- Add citations where we make technical claims that need backing
- Focus on the most important statements:
  - Architecture descriptions and choices
  - Dataset sources
  - Transfer learning claims
  - Key research findings we reference
- Don't over-cite - only cite what truly needs a reference

### Adding New References
1. Add entry to `docs/bibliography.bib` in BibTeX format
2. Add inline citation using `[@citationkey]` where needed
3. Quarto will automatically format and generate References section

### Citation Keys Should Match
- Use author year format: `he2016deep`, `tan2019efficientnet`
- Lowercase, descriptive, year-based
- Match the BibTeX entry key exactly

## Jupyter Notebook Code Style

### Code Cell Width and Length
- **Maximum line width**: 80 characters (strict limit)
- **Maximum cell length**: 50 lines (prefer 30-40 lines)
- Break long expressions across multiple lines
- Use helper functions to avoid deeply nested comprehensions
- Extract complex logic into separate functions

### Line Breaking Best Practices
- Break long list comprehensions:
  ```python
  # Bad - too wide
  results = [(name, max(data[key]['accuracy']) * 100 if key in data else 0) for name, key in items]

  # Good - readable width
  results = [
      (name, max(data[key]['accuracy']) * 100 if key in data else 0)
      for name, key in items
  ]
  ```
- Break long function calls:
  ```python
  # Bad - too wide
  ax.bar(x - width/2, values, width, label='Long Label Name', color='#3498db', alpha=0.8, edgecolor='black')

  # Good - readable width
  ax.bar(x - width/2, values, width, label='Long Label Name',
         color='#3498db', alpha=0.8, edgecolor='black')
  ```
- Use helper functions for complex operations:
  ```python
  # Bad - long inline logic
  data = [(n, max(h[k]['acc']) * 100 if k in h else 0, max(h[k2]['acc']) * 100 if k2 and k2 in h else 0) for n, k, k2 in models]

  # Good - extracted helper
  def get_acc(key):
      return max(histories[key]['val_accuracy']) * 100 if key in histories else 0

  data = [(name, get_acc(fz), get_acc(ft) if ft else 0) for name, fz, ft in models]
  ```

### Why This Matters
- Jupyter notebooks are viewed in various screen sizes
- Code that wraps is hard to read and understand
- PDF exports (via Quarto) require reasonable line lengths
- Maintainability and collaboration benefit from clean formatting

## General Principles

1. Brevity over completeness
2. Simple over elaborate
3. Professional over casual
4. Direct over decorated
